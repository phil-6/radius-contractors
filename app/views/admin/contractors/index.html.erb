<table class="table table-dark table-hover table-sm">
  <thead>
  <tr>
    <th scope="col">ID</th>
    <th scope="col">Name</th>
    <th scope="col">Company Name</th>
    <th scope="col">Town</th>
    <th scope="col">Added By</th>
    <th scope="col" title="Jobs"><i class="fa-solid fa-screwdriver-wrench"></i></th>
    <th scope="col" title="Customers"><i class="fa-solid fa-users-viewfinder"></i></th>
    <th scope="col" title="Ratings"><i class="fa-solid fa-star-half-stroke"></i></th>
    <th scope="col" title="Average Rating"><i class="fa-solid fa-gauge"></i></th>
    <th scope="col" title="Trades"><i class="fa-solid fa-toolbox"></i></th>
    <th scope="col" title="Link to Profile"><i class="fa-solid fa-up-right-from-square"></i></th>
  </tr>
  </thead>
  <tbody>
  <% @contractors.each do |contractor| %>
    <tr>
      <th scope="row"><%= contractor.id %></th>
      <td><%= contractor.name%></td>
      <td><%= contractor.company_name %></td>
      <td><%= contractor.town %></td>
      <td><%= contractor.added_by.full_name %></td>
      <td><%= contractor.jobs.size %></td>
      <td><%= contractor.customers.size %></td>
      <td><%= contractor.ratings.size %></td>
      <td><%= contractor.ratings.average(:overall_rating) %></td>
      <td title="<%= contractor.trades.map(&:name).to_sentence %>"><%= contractor.trades.size %></td>
      <td><%= link_to contractor do %><i class="fa-solid fa-up-right-from-square"></i><% end %></td>
    </tr>
  <% end %>
  </tbody>
</table>
